# OpenGL 相关

pip install opencv-python    安装cv2

## GLFW

GLFW 是一个用于台式机上的 OpenGL，Op​​enGL ES 和 Vulkan 开发的开源，多平台库。它提供了一个简单的 API，用于创建窗口，上下文和表面，接收输入和事件。

# OpenGL 构建渲染流程

为了使用这个框架，你必须熟记以下四个函数，我们用它来完成 OpenGL 的逻辑：

- bool Initialize();

  执行所有的初始化工作，如果成功函数返回 true

  

- void Deinitialize();

  执行所有的卸载工作
  

- void Update(DWORD milliseconds);

  执行所有的更新操作，传入的参数为两次操作经过的时间，以毫秒为单位

  用户可以在此处进行自定义更新操作
  

- void Draw();

  执行所有的绘制操作

## 设置视口和重载你的绘制函数

**我们在第一课程序的基础上添加一下功能**： 

1. 创建一个全局的视口类，控制场景中可见的范围  
2. 创建初始化函数，用来完成绘制的初始化工作  
3. 创建一个绘制三棱锥的函数  
4. 设置默认的视口棱台体  
5. 重载我们的绘制函数，这里将绘制一个简单的三棱锥 

**我们在第二课程序的基础上添加一下功能**： 

1. 创建一个全局的2D文本类，在场景中绘制2D英文字符  
2. 按默认方式初始化2D文本类  
3. 使用它在屏幕绘制2D英文字符 

**我们在第三课程序的基础上添加一下功能**： 

1. 创建一个全局的纹理类  
2. 利用纹理类载入纹理文件  
3. 创建绘制带纹理坐标的三棱锥的函数  
4. 设置当前的纹理并启用它，绘制带纹理坐标的三棱锥 

### 整体框架结构

**绘制操作流程**:

1. 头文件和全局变量
2. 绘制三棱锥函数
3. 初始化场景
4. 设置默认的视口棱台体
5. 绘制场景
6. 程序循环
7. 退出程序

**使用各个类提供的功能**:

1. 设置视口 
2. 绘制文本
3. 设置纹理

## OpenGL窗口

```c
HGLRC           hRC=NULL;							// 窗口着色描述表句柄
HDC             hDC=NULL;							// OpenGL渲染描述表句柄
HWND            hWnd=NULL;							// 保存我们的窗口句柄
HINSTANCE       hInstance;							// 保存程序的实例
```

第一行设置的变量是Rendering  Context(着色描述表)。每一个OpenGL都被连接到一个着色描述表上。着色描述表将所有的OpenGL调用命令连接到Device  Context(设备描述表)上。我将OpenGL的着色描述表定义为 hRC  。要让您的程序能够绘制窗口的话，还需要创建一个设备描述表，也就是第二行的内容。Windows的设备描述表被定义为 hDC  。DC将窗口连接到GDI(Graphics Device Interface图形设备接口)。而RC将OpenGL连接到DC。第三行的变量 hWnd  将保存由Windows给我们的窗口指派的句柄。最后，第四行为我们的程序创建了一个Instance(实例)。

1. OpenGL场景的尺寸将被设置成它显示时所在窗口的大小。

   ```c
   GLvoid ReSizeGLScene(GLsizei width, GLsizei height)
   ```

2. 将对OpenGL进行所有的设置

   ```c
   int InitGL(GLvoid)		
   ```

   将深度缓存设想为屏幕后面的层。深度缓存不断的对物体进入屏幕内部有多深进行跟踪。我们本节的程序其实没有真正使用深度缓存，但几乎所有在屏幕上显示3D场景OpenGL程序都使用深度缓存。它的排序决定那个物体先画。这样您就不会将一个圆形后面的正方形画到圆形上来。深度缓存是OpenGL十分重要的部分。

3. as

